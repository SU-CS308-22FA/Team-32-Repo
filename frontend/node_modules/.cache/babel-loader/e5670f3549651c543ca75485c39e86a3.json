{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\User\\\\Desktop\\\\tffproject\\\\Team-32-Repo\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\tffproject\\\\Team-32-Repo\\\\frontend\\\\src\\\\page\\\\Loginpage.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { login } from '../actions/userAction';\nimport { Row, Col, Form, Button } from 'react-bootstrap';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { Link } from 'react-router-dom';\nimport FormContainer from '../components/FormContainer';\nfunction Loginpage() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var dispatch = useDispatch();\n  var history = useNavigate();\n  var location = useLocation();\n  var redirect = location.search ? location.search.split('=')[1] : '/';\n  var userLogin = useSelector(function (state) {\n    return state.userLogin;\n  });\n  var error = userLogin.error,\n    loading = userLogin.loading,\n    userInfo = userLogin.userInfo;\n  useEffect(function () {\n    if (userInfo) {\n      history(redirect);\n    }\n  }, [history, userInfo, redirect]);\n  var submithandler = function submithandler(e) {\n    e.preventDefault();\n    dispatch(login(email, password));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 15\n    }\n  }, \"Login\"), error && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 25\n    }\n  }, error), loading && /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submithandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 19\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"Email address...\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 19\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"***********\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(Row, {\n    className: \"py-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 19\n    }\n  }, \"Are you not registered? \", /*#__PURE__*/React.createElement(Link, {\n    to: redirect ? \"/register?redirect={redirect}\" : '/register',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 45\n    }\n  }, \" Register now\")))));\n}\nexport default Loginpage;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","useLocation","useNavigate","login","Row","Col","Form","Button","Message","Loader","Link","FormContainer","Loginpage","email","setEmail","password","setPassword","dispatch","history","location","redirect","search","split","userLogin","state","error","loading","userInfo","submithandler","e","preventDefault","target","value"],"sources":["C:/Users/User/Desktop/tffproject/Team-32-Repo/frontend/src/page/Loginpage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useLocation,  useNavigate } from 'react-router-dom'\r\nimport { login } from '../actions/userAction'\r\nimport { Row, Col, Form, Button } from 'react-bootstrap'\r\nimport Message from '../components/Message'\r\nimport Loader  from '../components/Loader'\r\nimport { Link } from 'react-router-dom';\r\nimport FormContainer from '../components/FormContainer';\r\n\r\n\r\nfunction Loginpage() {\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const dispatch = useDispatch()\r\n    const history = useNavigate()\r\n\r\n    const location = useLocation()\r\n    const redirect = location.search ? location.search.split('=')[1] : '/'\r\n    \r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { error, loading, userInfo } = userLogin\r\n    \r\n    useEffect(() => {\r\n        if (userInfo) {\r\n            history(redirect)\r\n        }\r\n    }, [history, userInfo, redirect])\r\n\r\n    const submithandler = (e) => {\r\n        e.preventDefault();\r\n        dispatch(login(email, password))\r\n    }\r\n\r\n\r\n  return (\r\n      <div>\r\n          <FormContainer>\r\n              <h1>Login</h1>\r\n              {error && <Message variant='danger'>{error}</Message>}\r\n              {loading && <Loader></Loader>}\r\n\r\n              <Form onSubmit={submithandler}>\r\n              <Form.Group controlId='email'>\r\n                  <Form.Label>Email Address</Form.Label>\r\n                  <Form.Control\r\n                      type='email'\r\n                      placeholder='Email address...'\r\n                      value={email}\r\n                  onChange={(e)=> setEmail(e.target.value)}>\r\n                      \r\n                  </Form.Control>\r\n              </Form.Group>\r\n\r\n              <Form.Group controlId='password'>\r\n                  <Form.Label>Password</Form.Label>\r\n                  <Form.Control\r\n                      type='password'\r\n                      placeholder='***********'\r\n                      value={password}\r\n                  onChange={(e)=> setPassword(e.target.value)}>\r\n                      \r\n                  </Form.Control>\r\n              </Form.Group>\r\n\r\n              <Button type='submit' variant='danger'>Login</Button>\r\n              </Form>\r\n              <Row className='py-3'>\r\n                  <Col>\r\n                    Are you not registered? <Link to={redirect? `/register?redirect={redirect}`: '/register'}> Register now</Link>\r\n                  </Col>\r\n              </Row>\r\n          </FormContainer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loginpage"],"mappings":"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"},"metadata":{},"sourceType":"module"}
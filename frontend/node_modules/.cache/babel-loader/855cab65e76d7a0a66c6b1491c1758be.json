{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\User\\\\Desktop\\\\tffproject\\\\Team-32-Repo\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\tffproject\\\\Team-32-Repo\\\\frontend\\\\src\\\\page\\\\Cardpage.js\";\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { addToCart, removeFromCart } from '../actions/cartAction';\nimport { Row, Col, ListGroup, Form, Button, Image, ListGroupItem, Card } from 'react-bootstrap';\nimport Message from '../components/Message';\nimport { Link } from 'react-router-dom';\nfunction Cardpage() {\n  var _this = this;\n  var _useParams = useParams(),\n    id = _useParams.id;\n  var useQty = useLocation();\n  var qty = isNaN(useQty.search.split('=')[1]) ? 1 : Number(useQty.search.split('=')[1]);\n  console.log({\n    id: id,\n    qty: qty\n  });\n  var dispatch = useDispatch();\n  var cart = useSelector(function (state) {\n    return state.cart;\n  });\n  var cartItems = cart.cartItems;\n  var removeFromCartHandler = function removeFromCartHandler(id) {\n    dispatch(removeFromCart(id));\n  };\n  var checkoutHandler = function checkoutHandler() {\n    history('/shipping');\n  };\n  useEffect(function () {\n    if (id) {\n      dispatch(addToCart(id, qty));\n    }\n  }, [dispatch, id, qty]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"product-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, \"My Cart\"), cartItems.length === 0 ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 23\n    }\n  }, \"My cart is empty \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 44\n    }\n  }, \"Products\")) : /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 27\n    }\n  }, cartItems.map(function (item) {\n    return /*#__PURE__*/React.createElement(ListGroup.Item, {\n      key: item.product,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: item.image,\n      width: \"80\",\n      alt: item.image,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 49\n      }\n    }, item.name)), /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 45\n      }\n    }, item.price), /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      value: item.qty,\n      onChange: function onChange(e) {\n        return dispatch(addToCart(item.product, Number(e.target.value)));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 49\n      }\n    }, _toConsumableArray(Array(item.countInStock).keys()).map(function (x) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: x + 1,\n        value: x + 1,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 59\n        }\n      }, x + 1);\n    }))), /*#__PURE__*/React.createElement(Col, {\n      md: 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 43\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: function onClick() {\n        return removeFromCartHandler(item.product);\n      },\n      type: \"button\",\n      variant: \"danger\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 47\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-trash\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 137\n      }\n    }), \" \"))));\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(ListGroupItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 31\n    }\n  }, \"Products in your cart: (\", cartItems.reduce(function (acc, item) {\n    return acc + item.qty;\n  }, 0), \")\"))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: checkoutHandler,\n    type: \"button\",\n    className: \"btn-block\",\n    disabled: cartItems.length === 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, \"Complete order\"))))));\n}\nexport default Cardpage;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","useLocation","useParams","addToCart","removeFromCart","Row","Col","ListGroup","Form","Button","Image","ListGroupItem","Card","Message","Link","Cardpage","id","useQty","qty","isNaN","search","split","Number","console","log","dispatch","cart","state","cartItems","removeFromCartHandler","checkoutHandler","history","length","map","item","product","image","name","price","e","target","value","Array","countInStock","keys","x","reduce","acc"],"sources":["C:/Users/User/Desktop/tffproject/Team-32-Repo/frontend/src/page/Cardpage.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useLocation, useParams } from 'react-router-dom'\r\nimport { addToCart, removeFromCart } from '../actions/cartAction'\r\nimport { Row, Col, ListGroup, Form, Button, Image, ListGroupItem, Card } from 'react-bootstrap'\r\nimport Message  from '../components/Message'\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Cardpage() {\r\n\r\n\r\n    const { id } = useParams();\r\n    const useQty = useLocation()\r\n    const qty = isNaN(useQty.search.split('=')[1]) ? 1 : Number(useQty.search.split('=')[1]);\r\n    console.log({ id, qty })\r\n    \r\n    const dispatch = useDispatch()\r\n\r\n    const cart = useSelector(state => state.cart)\r\n    const { cartItems } = cart\r\n\r\n    const removeFromCartHandler = (id) => {\r\n        dispatch(removeFromCart(id))\r\n    }\r\n    \r\n    const checkoutHandler=()=>{\r\n        history('/shipping')\r\n\r\n    }\r\n    \r\n    useEffect(() =>\r\n        {\r\n            if (id) {\r\n                dispatch(addToCart(id,qty))\r\n            }\r\n        }, [dispatch, id, qty]\r\n\r\n    )\r\n\r\n  return (\r\n    <div>\r\n        <Row>\r\n            <Col md={8}>\r\n                <h1 className='product-title'>My Cart</h1>\r\n                  {cartItems.length === 0 ? (\r\n                      <Message variant='info'>\r\n                          My cart is empty <Link to= '/products'>Products</Link>\r\n                      </Message>\r\n                  ) : (\r\n                          <ListGroup variant='flush'>\r\n                              {cartItems.map(item => (\r\n                                \r\n                                <ListGroup.Item key={item.product}>\r\n                                    <Row>\r\n                                            <Col md={2}>\r\n                                                <Image src={item.image} width='80' alt ={item.image}/>\r\n                                            </Col>\r\n\r\n                                            <Col md={2}>\r\n                                                <Link  to='/'>{item.name}</Link>\r\n                                            </Col>\r\n\r\n                                            <Col md={2}>\r\n                                                {item.price}\r\n                                            </Col>\r\n                                          \r\n                                            <Col md={2}>\r\n                                                <Form.Control as='select' value={item.qty} onChange={(e)=> dispatch(addToCart(item.product, Number(e.target.value)))}>\r\n                                                    {\r\n                                                      [...Array(item.countInStock).keys()].map((x) =>\r\n                                                          <option key={x + 1} value={x + 1}>{x + 1}</option>  \r\n                                                      \r\n                                                      )\r\n                                                    }\r\n                                                </Form.Control>\r\n                                          </Col>\r\n                                          \r\n                                          <Col md={1}>\r\n                                              <Button onClick={()=> removeFromCartHandler(item.product)} type='button' variant='danger'><i className='fa fa-trash'></i> </Button>\r\n                                          </Col>\r\n                                    </Row>\r\n                                </ListGroup.Item>\r\n\r\n                              ))}\r\n                          </ListGroup>\r\n                  )\r\n                    \r\n                }\r\n\r\n\r\n            </Col>\r\n              <Col md={4}>\r\n                  <Card>\r\n                      <ListGroup variant='flush'>\r\n                          <ListGroupItem>\r\n                              <h2>Products in your cart: ({cartItems.reduce((acc, item)=> acc+item.qty, 0)})</h2>\r\n                          </ListGroupItem>\r\n                          \r\n                      </ListGroup>\r\n                    <ListGroup.Item>\r\n                        <Button onClick={checkoutHandler} type='button' className='btn-block' disabled={cartItems.length===0}>\r\n                            Complete order\r\n                        </Button>\r\n\r\n\r\n                    </ListGroup.Item>\r\n                  </Card>\r\n              </Col>\r\n        </Row>  \r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Cardpage"],"mappings":"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"},"metadata":{},"sourceType":"module"}